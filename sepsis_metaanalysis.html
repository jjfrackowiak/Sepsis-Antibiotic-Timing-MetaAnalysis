<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jan Frąckowiak">
<meta name="dcterms.date" content="2024-09-12">

<title>Does immediate antibiotics administration reduce sepis mortality? A metaanalysis in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="sepsis_metaanalysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="sepsis_metaanalysis_files/libs/quarto-html/quarto.js"></script>
<script src="sepsis_metaanalysis_files/libs/quarto-html/popper.min.js"></script>
<script src="sepsis_metaanalysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="sepsis_metaanalysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="sepsis_metaanalysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="sepsis_metaanalysis_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="sepsis_metaanalysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="sepsis_metaanalysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="sepsis_metaanalysis_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="sepsis_metaanalysis_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="sepsis_metaanalysis_files/libs/pagedtable-1.1/js/pagedtable.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Does immediate antibiotics administration reduce sepis mortality? A metaanalysis in R</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Jan Frąckowiak </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 12, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#included-studies" id="toc-included-studies" class="nav-link active" data-scroll-target="#included-studies">Included studies</a></li>
  <li><a href="#environment" id="toc-environment" class="nav-link" data-scroll-target="#environment">Environment</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#odds-ratio" id="toc-odds-ratio" class="nav-link" data-scroll-target="#odds-ratio">Odds Ratio</a></li>
  <li><a href="#reproducing-original-results" id="toc-reproducing-original-results" class="nav-link" data-scroll-target="#reproducing-original-results">Reproducing original results</a></li>
  <li><a href="#forest-plot-for-original-data" id="toc-forest-plot-for-original-data" class="nav-link" data-scroll-target="#forest-plot-for-original-data">Forest Plot for Original Data</a></li>
  <li><a href="#calculation-of-effect-sizes-for-extended-data" id="toc-calculation-of-effect-sizes-for-extended-data" class="nav-link" data-scroll-target="#calculation-of-effect-sizes-for-extended-data">Calculation of effect sizes for extended data</a></li>
  <li><a href="#forest-plot-for-extended-data" id="toc-forest-plot-for-extended-data" class="nav-link" data-scroll-target="#forest-plot-for-extended-data">Forest plot for extended data</a></li>
  <li><a href="#funnel-plot-for-extended-data" id="toc-funnel-plot-for-extended-data" class="nav-link" data-scroll-target="#funnel-plot-for-extended-data">Funnel plot for extended data</a></li>
  <li><a href="#finding-what-explains-the-results" id="toc-finding-what-explains-the-results" class="nav-link" data-scroll-target="#finding-what-explains-the-results">Finding what explains the results</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#further-research" id="toc-further-research" class="nav-link" data-scroll-target="#further-research">Further Research</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>This report builds upon the work of <a href="https://www.annemergmed.com/article/S0196-0644(20)30337-1/fulltext#tbl1fnddagger">Rothroc et al.&nbsp;(2020) meta-analysis</a>, which reviewed data from 13 studies examining the impact of antibiotic administration timing on mortality among sepsis patients. Specifically, Rothroc et al.&nbsp;compared mortality rates between two groups: patients who received antibiotics within 0 to 1 hour of sepsis onset (immediate administration) and those who received antibiotics within 1 to 3 hours (early administration). The original study found no significant difference in mortality between these groups.</p>
<p>This analysis builds on that original work by incorporating two additional studies published after the initial review. Following a description of the selection criteria for the included studies, the report discusses the variables and the method used for estimating the sample standard deviations.</p>
<p>Subsequently, random and fixed effect models are applied—first to the data from the 13 original studies, and then to the extended data set that includes the additional studies. The objective is to determine whether the difference between the immediate and early treatment groups remains insignificant with the expanded data set. To verify reproducibility and visualize the results, forest plots are utilized. For the extended dataset, a funnel plot is presented to assess potential publication bias.</p>
<p>The report concludes with an analysis of sample-related and methodological factors that may influence the observed effects in the expanded data set.</p>
<section id="included-studies" class="level3">
<h3 class="anchored" data-anchor-id="included-studies">Included studies</h3>
<p>Apart from the data from the original meta-analysis, two additional studies were included to further validate the findings. One study was conducted by <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8119622/">Siewers et al.&nbsp;(2021)</a> in Denmark, and the other by <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9280501/">Althunayyan et al.&nbsp;(2022)</a> in Riyadh, Saudi Arabia.</p>
<p><br></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/sepsis_mortality_alth.jpg" class="img-fluid figure-img" width="500"></p>
<figcaption>Sepsis Mortality and immediecy of antibiotic therapy as per Althunayyan&nbsp;et al.&nbsp;(2022)</figcaption>
</figure>
</div>
<p>Both of these studies adhered to the publication selection criteria utilized by Rothroc et al.&nbsp;They were recognized in the established medical publishing service (<em>PubMed</em>) and provided data for similarly defined patient groups: septic patients who received antibiotics within 0-1 hours and those who received antibiotics within 1-3 hours from sepsis onset. Additionally, all patients were above the age of 18.</p>
<p><strong>Original publication selection criteria:</strong> The original meta-analysis included studies derived from recognized medical literature services (PubMed, Wiley’s Cochrane Library, EMBASE, Cumulative Index of Nursing and Allied Health Plus). These studies contained data for the two groups of interest (immediate and early antibiotic administration).</p>
<p><strong>Exclusion criteria:</strong> Studies were excluded if they did not provide the total number of patients for either the 0 to 1-hour or 1 to 3-hour groups, lacked mortality data for either antibiotic period, were duplicates or used the same patient database during the same period, or included patients aged 17 years or younger.</p>
</section>
<section id="environment" class="level3">
<h3 class="anchored" data-anchor-id="environment">Environment</h3>
<p>In order to reproduce the result and guarantee the use of the same version of libraries renv package is utilised. renv creates a snapshot of envirnoment and stores it to <code>renv.lock</code> file, which then can easily restored with <code>restore</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| message = FALSE,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| warning = FALSE,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="in">#| label = "setup"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="in">if (!require(renv)) {</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="in">  install.packages("renv", repos = "http://cran.us.r-project.org")</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="in">  library(renv)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="in">renv::restore() </span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(meta)</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="in">library(metafor)</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="in">library(rmarkdown)</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>- The library is already synchronized with the lockfile.</code></pre>
</div>
</div>
</section>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<section id="list-of-used-variables" class="level4">
<h4 class="anchored" data-anchor-id="list-of-used-variables">List of Used Variables</h4>
<p><em>Author</em><br>
character. The study label containing the author(s) of the study.</p>
<p><em>Number_of_Subjects_01</em><br>
numeric. The number of subjects in the immediate antibiotic treatment group (0-1 hours).</p>
<p><em>Events_of_Subjects_01</em><br>
numeric. Death events in the immediate antibiotic treatment group (0-1 hours).</p>
<p><em>Number_of_Subjects_13</em><br>
numeric. The number of subjects in the early antibiotic treatment group (1-3 hours).</p>
<p><em>Events_of_Subjects_13</em><br>
numeric. Death events in the early antibiotic treatment group (1-3 hours).</p>
<p><em>Number_of_Hospitals</em><br>
numeric. The number of hospitals involved in the study.</p>
<p><em>Design</em><br>
character. The study design, including whether it was retrospective, prospective, observational, etc.</p>
<p><em>Median_Age</em><br>
numeric. The median age of patients in the study.</p>
<p><em>Percent_Male</em><br>
numeric. The percentage of male patients in the study.</p>
<p><em>Median_Time_to_Antibiotics</em><br>
numeric. The median time from sepsis onset to antibiotic administration.</p>
<p>Reading the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="in">mdata &lt;- read.csv("data/sepsis_meta.csv", sep=";")</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="in">rmarkdown::paged_table(mdata[1:5,])</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Author"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Number_of_Hospitals"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Design"],"name":[3],"type":["chr"],"align":["left"]},{"label":["ED_Setting"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Median_Age"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Percent_Male"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Definition_of_Onset"],"name":[7],"type":["chr"],"align":["left"]},{"label":["Mortality_Defined"],"name":[8],"type":["chr"],"align":["left"]},{"label":["Median_Time_to_Antibiotics"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Number_of_Subjects_01"],"name":[10],"type":["int"],"align":["right"]},{"label":["Events_of_Subjects_01"],"name":[11],"type":["int"],"align":["right"]},{"label":["Number_of_Subjects_13"],"name":[12],"type":["int"],"align":["right"]},{"label":["Events_of_Subjects_13"],"name":[13],"type":["int"],"align":["right"]}],"data":[{"1":"Puskarich et al. (2011)","2":"3","3":"Prospective. randomized. nonblinded","4":"1","5":"62","6":"53.6","7":"ED triage","8":"Hospital","9":"114.0","10":"65","11":"11","12":"158","13":"35","_rn_":"1"},{"1":"Ferrer et al. (2014)","2":"144","3":"Retrospective cross sectional","4":"0","5":"NA","6":"NA","7":"ED triage time. IP/ICU. onset organ dysfunction","8":"Hospital","9":"NA","10":"4728","11":"1512","12":"7615","13":"2155","_rn_":"2"},{"1":"Bloos et al. (2014)","2":"44","3":"Prospective observational","4":"0","5":"69","6":"62.7","7":"Time of first organ dysfunction","8":"28 days","9":"126.0","10":"186","11":"65","12":"249","13":"86","_rn_":"3"},{"1":"de Groot et al. (2015)","2":"3","3":"Prospective observational","4":"1","5":"62","6":"55.7","7":"ED registration","8":"28 days","9":"NA","10":"330","11":"46","12":"336","13":"47","_rn_":"4"},{"1":"Ryoo et al. (2015)","2":"1","3":"Retrospective cohort","4":"1","5":"63","6":"61.0","7":"ED triage","8":"28 days","9":"91.5","10":"150","11":"29","12":"199","13":"40","_rn_":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="odds-ratio" class="level2">
<h2 class="anchored" data-anchor-id="odds-ratio">Odds Ratio</h2>
<p>The <strong>odds ratio</strong> (OR) is a measure of association between an exposure and an outcome. It compares the odds of the outcome occurring in the treatment or experimental group to the odds of the outcome in the control or unexposed group.</p>
<p>Mathematically, the odds ratio is defined as:</p>
<p><span class="math display">\[
\text{OR} = \frac{\frac{a}{b}}{\frac{c}{d}} = \frac{a \cdot d}{b \cdot c}
\]</span></p>
<section id="where" class="level6">
<h6 class="anchored" data-anchor-id="where">Where:</h6>
<ul>
<li><span class="math inline">\(a\)</span> = Number of events (outcome present) in the experimental group</li>
<li><span class="math inline">\(b\)</span> = Number of non-events (outcome absent) in the experimental group</li>
<li><span class="math inline">\(c\)</span> = Number of events in the control group</li>
<li><span class="math inline">\(d\)</span> = Number of non-events in the control group</li>
</ul>
<p>An <strong>odds ratio</strong> greater than 1 indicates that the outcome is more likely in the treatment group, while an odds ratio less than 1 suggests it is less likely in the treatment group.</p>
</section>
</section>
<section id="reproducing-original-results" class="level2">
<h2 class="anchored" data-anchor-id="reproducing-original-results">Reproducing original results</h2>
<p>For binary variables, such as mortality among patients between the two groups, the <code>metabin</code> function from the <a href="https://cran.r-project.org/web/packages/meta/meta.pdf">meta package</a> in R can be utilized to estimate the random and common effects models. The authors of the original review estimated a common effects model using a similar method, employing the Mantel-Haenszel approach.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="in">m_org &lt;- metabin(event.e = Events_of_Subjects_01,</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="in">             n.e = Number_of_Subjects_01, </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="in">             event.c = Events_of_Subjects_13,</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="in">             n.c = Number_of_Subjects_13,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="in">             data = mdata[1:13, ], # Just 13 original studies</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="in">             studlab= paste(Author),</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="in">             method = "MH", # Mantel-Haenszel method</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="in">             sm = "OR")  # Use odds ratio</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="forest-plot-for-original-data" class="level2">
<h2 class="anchored" data-anchor-id="forest-plot-for-original-data">Forest Plot for Original Data</h2>
<p>The authors of the original review calculated forest plots for their studies. In this section, forest plot is used to validate whether the method utilized yields comparable results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="in">m_org %&gt;% forest(fontsize=7)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sepsis_metaanalysis_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here is the forest plot obtained by authors:</p>
<p><br></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/sepsis_results_org.jpg" class="img-fluid figure-img"></p>
<figcaption>Forest plot from original study</figcaption>
</figure>
</div>
<p><strong>Observation:</strong> As observed, the results are consistent. They are also very similar concerning the random effects model odds ratios (1.09 [0.99, 1.21] vs 1.00 [0.98, 1.21]). Interestingly, for the common effects model (Mantel-Haenszel), the lower bound of the confidence interval is greater than 1, indicating a significant difference between the experimental and control samples.</p>
</section>
<section id="calculation-of-effect-sizes-for-extended-data" class="level2">
<h2 class="anchored" data-anchor-id="calculation-of-effect-sizes-for-extended-data">Calculation of effect sizes for extended data</h2>
<p>In the next step, both common effects and random effects models were estimated for all 15 studies.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="in">m &lt;- metabin(event.e = Events_of_Subjects_01,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="in">             n.e = Number_of_Subjects_01, </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="in">             event.c = Events_of_Subjects_13,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="in">             n.c = Number_of_Subjects_13,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="in">             data = mdata,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="in">             studlab= paste(Author),</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="in">             method = "MH",</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="in">             sm = "OR")</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="in">m</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of studies: k = 15
Number of observations: o = 34326 (o.e = 12946, o.c = 21380)
Number of events: e = 7739

                         OR           95%-CI    z  p-value
Common effect model  1.1197 [1.0586; 1.1843] 3.95 &lt; 0.0001
Random effects model 1.0987 [0.9967; 1.2110] 1.89   0.0582

Quantifying heterogeneity:
 tau^2 = 0.0077 [0.0000; 0.1593]; tau = 0.0879 [0.0000; 0.3991]
 I^2 = 37.7% [0.0%; 66.3%]; H = 1.27 [1.00; 1.72]

Test of heterogeneity:
     Q d.f. p-value
 22.48   14  0.0692

Details on meta-analytical method:
- Mantel-Haenszel method (common effect model)
- Inverse variance method (random effects model)
- Restricted maximum-likelihood estimator for tau^2
- Q-Profile method for confidence interval of tau^2 and tau</code></pre>
</div>
</div>
<p><strong>Observation:</strong> The extended data reveal a significant effect for the common effects model, with an odds ratio greater than one. For the random effects model, the results analyzed by the authors show a p-value above the 5% threshold.</p>
</section>
<section id="forest-plot-for-extended-data" class="level2">
<h2 class="anchored" data-anchor-id="forest-plot-for-extended-data">Forest plot for extended data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="in">m %&gt;% forest(fontsize=7)</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sepsis_metaanalysis_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Observation:</strong> Forest plots also indicate a mix of odds ratios above and below one at the individual study levels. The results for the entire models are consistent, showing a significant positive effect for the common effects model and an insignificant result for the random effects model.</p>
</section>
<section id="funnel-plot-for-extended-data" class="level2">
<h2 class="anchored" data-anchor-id="funnel-plot-for-extended-data">Funnel plot for extended data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="in">m %&gt;% funnel()</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sepsis_metaanalysis_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Funnel plot with contours for P-values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="in">contour_levels &lt;- c(0.90, 0.95, 0.99)</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="in">contour_colors &lt;- c("darkblue", "blue", "lightblue")</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="in">funnel(m, contour = contour_levels, col.contour = contour_colors)</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="in">legend("topright", c("p &lt; 0.10", "p &lt; 0.05", "p &lt; 0.01"), bty = "n", fill = contour_colors)</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sepsis_metaanalysis_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Observation:</strong> The funell plot does not suggest any publication bias, as the data points are more or less symmetrically distributed around the average. The average is above 1, indicating higher mortality in the experimental group.</p>
</section>
<section id="finding-what-explains-the-results" class="level2">
<h2 class="anchored" data-anchor-id="finding-what-explains-the-results">Finding what explains the results</h2>
<p>Let’s investigate whether the effect sizes are influenced by different characteristics of the samples and applied research methods.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="in">m %&gt;% metareg(`Number_of_Hospitals` + `Percent_Male` + `Median_Age` + `Median_Time_to_Antibiotics` + `Design`)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in find(i): elements of 'what' after the first will be ignored</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in formula.character(object, env = baseenv()): Using formula(x) is deprecated when x is a character vector of length &gt; 1.
  Consider formula(paste(x, collapse = " ")) instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 5 studies with NAs omitted from model fitting.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Redundant predictors dropped from the model.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Mixed-Effects Model (k = 10; tau^2 estimator: REML)

tau^2 (estimated amount of residual heterogeneity):     0.1472 (SE = 0.3300)
tau (square root of estimated tau^2 value):             0.3837
I^2 (residual heterogeneity / unaccounted variability): 63.10%
H^2 (unaccounted variability / sampling variability):   2.71
R^2 (amount of heterogeneity accounted for):            0.00%

Test for Residual Heterogeneity:
QE(df = 1) = 2.7097, p-val = 0.0997

Test of Moderators (coefficients 2:9):
QM(df = 8) = 3.8345, p-val = 0.8717

Model Results:

                                           estimate       se     zval    pval 
intrcpt                                      1.7888   5.9509   0.3006  0.7637 
Number_of_Hospitals                          0.0687   0.2258   0.3042  0.7610 
Percent_Male                                 0.0261   0.1314   0.1990  0.8423 
Median_Age                                  -0.0474   0.1071  -0.4426  0.6581 
Median_Time_to_Antibiotics                   0.0063   0.0116   0.5468  0.5845 
DesignProspective Controlled Open Label     -2.1146   7.6160  -0.2777  0.7813 
DesignProspective observational             -3.9596  10.9615  -0.3612  0.7179 
DesignProspective. randomized. nonblinded   -1.5139   1.6941  -0.8936  0.3715 
DesignRetrospective cohort                  -1.3420   1.5684  -0.8556  0.3922 
                                              ci.lb    ci.ub    
intrcpt                                     -9.8747  13.4522    
Number_of_Hospitals                         -0.3738   0.5112    
Percent_Male                                -0.2313   0.2836    
Median_Age                                  -0.2574   0.1626    
Median_Time_to_Antibiotics                  -0.0164   0.0291    
DesignProspective Controlled Open Label    -17.0416  12.8124    
DesignProspective observational            -25.4437  17.5246    
DesignProspective. randomized. nonblinded   -4.8342   1.8065    
DesignRetrospective cohort                  -4.4160   1.7321    

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p><strong>Observation:</strong> Neither the number of hospitals, the percentage of males, nor the time to antibiotics prove significant. This also applies to the four different study designs—none of them show significance.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Using R language and libraries, the findings of the original study were successfully reproduced. After incorporating two additional studies, the conclusions of the original meta-analysis remained unchanged for the random effects model (although in both cases random effects model proved insignificant). For the common effects model, both with the extended and original data, an odds ratio greater than one at a significant level was observed. This indicates higher mortality associated with immediate antibiotic administration.</p>
<p>Regression of the effects on various study characteristics did not identify any particular drivers of effects. The higher expected mortality in the treatment group was also evident in the forest and funell plots, which provide a clear perspective on individual studies. The funnel plot, with symmetrically distributed data points, did not allow to suspect any publication bias.</p>
</section>
<section id="further-research" class="level2">
<h2 class="anchored" data-anchor-id="further-research">Further Research</h2>
<p>Given the limited scope of this analysis and its general character, similar studies could be conducted on more strictly defined patient groups (e.g., only those with severe sepsis or septic shock) or with different time intervals to gain more precise insights.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>